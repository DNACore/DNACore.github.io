((window,document)=>{var rootElement=document.documentElement,colorSchemaStorageKey='Fluid_Color_Scheme',colorSchemaMediaQueryKey='--color-mode',userColorSchemaAttributeName='data-user-color-scheme',defaultColorSchemaAttributeName='data-default-color-scheme',colorToggleIconSelector='#color-toggle-icon';function getLS(k){try{return localStorage.getItem(k)}catch(e){return null}}function getSchemaFromCSSMediaQuery(){var res=getComputedStyle(rootElement).getPropertyValue(colorSchemaMediaQueryKey);return'string'==typeof res?res.replace(/["'\s]/g,''):null}function resetSchemaAttributeAndLS(){rootElement.setAttribute(userColorSchemaAttributeName,getDefaultColorSchema()),function removeLS(k){try{localStorage.removeItem(k)}catch(e){}}(colorSchemaStorageKey)}var validColorSchemaKeys={dark:!0,light:!0};function getDefaultColorSchema(){var schema=function getSchemaFromHTML(){var res=rootElement.getAttribute(defaultColorSchemaAttributeName);return'string'==typeof res?res.replace(/["'\s]/g,''):null}();return validColorSchemaKeys[schema]||(schema=getSchemaFromCSSMediaQuery(),validColorSchemaKeys[schema])?schema:18<=(schema=(new Date).getHours())||0<=schema&&schema<=6?'dark':'light'}function applyCustomColorSchemaSettings(schema){schema=schema||getLS(colorSchemaStorageKey)||getDefaultColorSchema();if(schema===getDefaultColorSchema())resetSchemaAttributeAndLS();else{if(!validColorSchemaKeys[schema])return void resetSchemaAttributeAndLS();rootElement.setAttribute(userColorSchemaAttributeName,schema)}!function setButtonIcon(schema){{var icon,iconElement;validColorSchemaKeys[schema]&&(icon=schema?'icon-'+schema:'icon-dark',(iconElement=document.querySelector(colorToggleIconSelector))?(iconElement.setAttribute('class','iconfont '+icon),iconElement.setAttribute('data',invertColorSchemaObj[schema])):Fluid.utils.waitElementLoaded(colorToggleIconSelector,function(){var iconElement=document.querySelector(colorToggleIconSelector);iconElement&&(iconElement.setAttribute('class','iconfont '+icon),iconElement.setAttribute('data',invertColorSchemaObj[schema]))}),document.documentElement.getAttribute('data-user-color-scheme'))&&(iconElement=getComputedStyle(document.documentElement).getPropertyValue('--navbar-bg-color').trim(),document.querySelector('meta[name="theme-color"]').setAttribute('content',iconElement))}}(schema),function setHighlightCSS(schema){var lightCss=document.getElementById('highlight-css'),darkCss=document.getElementById('highlight-css-dark');'dark'===schema?(darkCss&&darkCss.removeAttribute('disabled'),lightCss&&lightCss.setAttribute('disabled','')):(lightCss&&lightCss.removeAttribute('disabled'),darkCss&&darkCss.setAttribute('disabled',''));setTimeout(function(){document.querySelectorAll('.markdown-body pre').forEach(pre=>{var cls=0<=Fluid.utils.getBackgroundLightness(pre)?'code-widget-light':'code-widget-dark',pre=pre.querySelector('.code-widget-light, .code-widget-dark');pre&&(pre.classList.remove('code-widget-light','code-widget-dark'),pre.classList.add(cls))})},200)}(schema),function setApplications(schema){window.REMARK42&&window.REMARK42.changeTheme(schema);window.CUSDIS&&window.CUSDIS.setTheme(schema);var utterances=document.querySelector('.utterances-frame');utterances&&(utterancesTheme='dark'===schema?window.UtterancesThemeDark:window.UtterancesThemeLight,utterances.contentWindow.postMessage({type:'set-theme',theme:utterancesTheme},'https://utteranc.es'));utterances=document.querySelector('iframe.giscus-frame');{var utterancesTheme;utterances&&(utterancesTheme='dark'===schema?window.GiscusThemeDark:window.GiscusThemeLight,utterances.contentWindow.postMessage({giscus:{setConfig:{theme:utterancesTheme}}},'https://giscus.app'))}}(schema)}var invertColorSchemaObj={dark:'light',light:'dark'};function toggleCustomColorSchema(){var currentSetting=getLS(colorSchemaStorageKey);if(validColorSchemaKeys[currentSetting])currentSetting=invertColorSchemaObj[currentSetting];else{if(null!==currentSetting)return;var iconElement=document.querySelector(colorToggleIconSelector);iconElement&&(currentSetting=iconElement.getAttribute('data')),iconElement&&validColorSchemaKeys[currentSetting]||(currentSetting=invertColorSchemaObj[getSchemaFromCSSMediaQuery()])}return function setLS(k,v){try{localStorage.setItem(k,v)}catch(e){}}(colorSchemaStorageKey,currentSetting),currentSetting}applyCustomColorSchemaSettings(),Fluid.utils.waitElementLoaded(colorToggleIconSelector,function(){applyCustomColorSchemaSettings();var icon,button=document.querySelector('#color-toggle-btn');button&&(button.addEventListener('click',function(){applyCustomColorSchemaSettings(toggleCustomColorSchema())}),icon=document.querySelector(colorToggleIconSelector))&&(button.addEventListener('mouseenter',function(){var current=icon.getAttribute('data');icon.classList.replace('icon-'+invertColorSchemaObj[current],'icon-'+current)}),button.addEventListener('mouseleave',function(){var current=icon.getAttribute('data');icon.classList.replace('icon-'+current,'icon-'+invertColorSchemaObj[current])}))}),Fluid.utils.waitElementLoaded('iframe',function(){applyCustomColorSchemaSettings()})})(window,document);