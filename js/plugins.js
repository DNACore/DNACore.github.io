HTMLElement.prototype.wrap=function(wrapper){this.parentNode.insertBefore(wrapper,this),this.parentNode.removeChild(this),wrapper.appendChild(this)},Fluid.plugins={typing:function(text){var typed;'Typed'in window&&((typed=new window.Typed('#subtitle',{strings:['  ',text],cursorChar:CONFIG.typing.cursorChar,typeSpeed:CONFIG.typing.typeSpeed,loop:CONFIG.typing.loop})).stop(),(text=document.getElementById('subtitle'))&&(text.innerText=''),jQuery(document).ready(function(){typed.start()}))},fancyBox:function(selector){CONFIG.image_zoom.enable&&'fancybox'in jQuery&&(jQuery(selector||'.markdown-body :not(a) > img, .markdown-body > img').each(function(){var rep,r1,$image=jQuery(this),imageUrl=$image.attr('data-src')||$image.attr('src')||'',reg=(CONFIG.image_zoom.img_url_replace&&(r1=(rep=CONFIG.image_zoom.img_url_replace)[0]||'',rep=rep[1]||'',r1)&&(imageUrl=/^re:/.test(r1)?(r1=r1.replace(/^re:/,''),reg=new RegExp(r1,'gi'),imageUrl.replace(reg,rep)):imageUrl.replace(r1,rep)),$image.wrap(`
        <a class="fancybox fancybox.image" href="${imageUrl}"
          itemscope itemtype="http://schema.org/ImageObject" itemprop="url"></a>`).parent('a'));0!==reg.length&&($image.is('.group-image-container img')?reg.attr('data-fancybox','group').attr('rel','group'):reg.attr('data-fancybox','default').attr('rel','default'),r1=$image.attr('title')||$image.attr('alt'))&&reg.attr('title',r1).attr('data-caption',r1)}),jQuery.fancybox.defaults.hash=!1,jQuery('.fancybox').fancybox({loop:!0,helpers:{overlay:{locked:!1}}}))},imageCaption:function(selector){CONFIG.image_caption.enable&&jQuery(selector||`.markdown-body > p > img, .markdown-body > figure > img,
      .markdown-body > p > a.fancybox, .markdown-body > figure > a.fancybox`).each(function(){var $target=jQuery(this),$figcaption=$target.next('figcaption');0!==$figcaption.length?$figcaption.addClass('image-caption'):($figcaption=$target.attr('title')||$target.attr('alt'))&&$target.after(`<figcaption aria-hidden="true" class="image-caption">${$figcaption}</figcaption>`)})},codeWidget(){var copyTmpl,enableLang=CONFIG.code_language.enable&&CONFIG.code_language.default,enableCopy=CONFIG.copy_btn&&'ClipboardJS'in window;(enableLang||enableCopy)&&(copyTmpl='',copyTmpl+='<div class="code-widget">LANG</div>',jQuery('.markdown-body pre').each(function(){var lang,$pre=jQuery(this);0<$pre.find('code.mermaid').length||0<$pre.find('span.line').length||(lang='',enableLang&&(lang=CONFIG.code_language.default,0<$pre[0].children.length&&2<=$pre[0].children[0].classList.length&&$pre.children().hasClass('hljs')?lang=$pre[0].children[0].classList[1]:$pre[0].getAttribute('data-language')?lang=$pre[0].getAttribute('data-language'):$pre.parent().hasClass('sourceCode')&&0<$pre[0].children.length&&2<=$pre[0].children[0].classList.length?(lang=$pre[0].children[0].classList[1],$pre.parent().addClass('code-wrapper')):$pre.parent().hasClass('markdown-body')&&0===$pre[0].classList.length&&$pre.wrap('<div class="code-wrapper"></div>'),lang=lang.toUpperCase().replace('NONE',CONFIG.code_language.default)),$pre.append(copyTmpl.replace('LANG',lang).replace('code-widget">',function getBgClass(ele){return 0<=Fluid.utils.getBackgroundLightness(ele)?'code-widget-light':'code-widget-dark'}($pre[0])+(enableCopy?' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>':' code-widget">'))),enableCopy&&new ClipboardJS('.copy-btn',{target:function(trigger){for(var nodes=trigger.parentNode.childNodes,i=0;i<nodes.length;i++)if('CODE'===nodes[i].tagName)return nodes[i]}}).on('success',function(e){e.clearSelection(),e.trigger.innerHTML=e.trigger.innerHTML.replace('icon-copy','icon-success'),setTimeout(function(){e.trigger.innerHTML=e.trigger.innerHTML.replace('icon-success','icon-copy')},2e3)}))}))}};